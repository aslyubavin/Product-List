{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,iEAAe,SAAS;;;;;;;;;;;;;;AC5BxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,iEAAe,QAAQ;;;;;;;;;;;;;;AChBvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAe,WAAW;;;;;;;;;;;;;;;ACnBc;AACxC;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,YAAY,wDAAW;AACvB,SAAS;AACT;AACA;AACA;AACA,iEAAe,gBAAgB;;;;;;;;;;;;;;;;ACdG;AACM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,SAAS;AAClF;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,gHAAgH,qDAAQ;AACxH,YAAY,wDAAW;AACvB;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAe,UAAU;;;;;;;;;;;;;;ACjCzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAe,aAAa;;;;;;;;;;;;;;ACvB5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB;AACA;AACA,kCAAkC,KAAK;AACvC,mCAAmC,MAAM;AACzC,mCAAmC,qDAAqD;AACxF;AACA;AACA;AACA;AACA;AACA,iEAAe,WAAW;;;;;;;;;;;;;;;ACtBc;AACxC;AACA;AACA;AACA;AACA,qBAAqB,gBAAgB;AACrC,uBAAuB,oBAAoB,gBAAgB;AAC3D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,wDAAW;AAC3B,aAAa;AACb;AACA;AACA;AACA;AACA,iEAAe,SAAS;;;;;;UC9ExB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;ACNa;AACb;AAC0D;AACZ;AACF;AACI;AACI;AACR;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qEAAgB;AACpB,IAAI,+DAAU;AACd,IAAI,8DAAS;AACb,IAAI,gEAAW;AACf,IAAI,kEAAa;AACjB,IAAI,kEAAa;AACjB,IAAI,8DAAS;AACb,CAAC,E","sources":["webpack:///./src/js/modules/activeBtn.js","webpack:///./src/js/modules/addPhoto.js","webpack:///./src/js/modules/deletePhoto.js","webpack:///./src/js/modules/firstRenderPhoto.js","webpack:///./src/js/modules/formSubmit.js","webpack:///./src/js/modules/openFullPhoto.js","webpack:///./src/js/modules/renderPhoto.js","webpack:///./src/js/modules/sortPhoto.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/js/script.js"],"sourcesContent":["function activeBtn(form) {\r\n    const inputs = form.querySelectorAll('input'),\r\n        btn = form.querySelector('button');\r\n\r\n    function checkFilledInput() {\r\n        let res = true;\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            if (inputs[i].value.length === 0) {\r\n                res = false;\r\n                break;\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    inputs.forEach(input => {\r\n        input.addEventListener('input', () => {\r\n            if (checkFilledInput()) {\r\n                btn.classList.add('btn_active');\r\n            } else {\r\n                if (btn.classList.contains('btn_active')) {\r\n                    btn.classList.remove('btn_active');\r\n                }\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nexport default activeBtn;","function addPhoto(form, name, descr, link, price) {\r\n    const data = {\r\n        'descr': descr,\r\n        'link': link,\r\n        'price': price,\r\n    };\r\n\r\n    if (!Object.keys({ ...localStorage }).includes(name)) {\r\n        localStorage.setItem(name, JSON.stringify(data));\r\n        return true;\r\n    } else {\r\n        form.querySelector('[data-message=\"name\"]').innerText = \"Имя уже занято\"\r\n        return false;\r\n    }\r\n}\r\n\r\nexport default addPhoto;","function deletePhoto(list, emptyBlock) {\r\n    list.addEventListener('click', (e) => {\r\n        if (e.target.matches('[data-button=\"delete\"]')) {\r\n            const item = e.target.parentElement;\r\n            item.style.cssText = `\r\n            opacity: 0;\r\n            transform: translateX(-100%);\r\n            `;\r\n            setTimeout(() => {\r\n                item.remove()\r\n                if (Object.keys({...localStorage}).length === 0) {\r\n                    emptyBlock.style.display = 'block';\r\n                }\r\n            }, 500);\r\n            localStorage.removeItem(item.getAttribute('data-name'));\r\n        }\r\n    });\r\n}\r\n\r\nexport default deletePhoto;","import renderPhoto from \"./renderPhoto\";\r\n\r\nfunction firstRenderPhoto(list, emptyBlock) {\r\n    const data = localStorage;\r\n    if (Object.keys(data).length === 0) {\r\n        emptyBlock.style.display = 'block';\r\n    } else {\r\n        Object.keys(data).forEach(name => {\r\n            const unit = JSON.parse(localStorage.getItem(name));\r\n            renderPhoto(name, unit.descr, unit.link, unit.price, list, emptyBlock);\r\n        });\r\n    }\r\n}\r\n\r\nexport default firstRenderPhoto;","import addPhoto from \"./addPhoto\";\r\nimport renderPhoto from \"./renderPhoto\";\r\n\r\nfunction formSubmit(form, list, emptyBlock) {\r\n    const inputName = form.querySelector('#name'),\r\n        inputDescr = form.querySelector('#descr'),\r\n        inputLink = form.querySelector('#link'),\r\n        inputPrice = form.querySelector('#price'),\r\n        btn = form.querySelector('button');\r\n  \r\n    form.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        function checkRequiredInput(input) {\r\n            const messageSelector = form.querySelector(`[data-message=\"${input.id}\"]`);\r\n            if (input.value.length === 0) {\r\n                messageSelector.innerText = 'Поле является обязательным';\r\n                return false;\r\n            } else {\r\n                messageSelector.innerText = '';\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (checkRequiredInput(inputName) && checkRequiredInput(inputLink) && checkRequiredInput(inputPrice) && addPhoto(form, inputName.value, inputDescr.value, inputLink.value, inputPrice.value)) {\r\n            renderPhoto(inputName.value, inputDescr.value, inputLink.value, inputPrice.value, list, emptyBlock);\r\n            btn.classList.remove('btn_active');\r\n            form.reset();\r\n        } else {\r\n            return false;\r\n        }\r\n    });\r\n}\r\n\r\nexport default formSubmit;","function openFullPhoto(list) {\r\n    const fullPhoto = document.querySelector('.full-photo');\r\n\r\n    list.addEventListener('click', (e) => {\r\n        if (e.target.matches('img')) {\r\n            fullPhoto.querySelector('img').src = e.target.src;\r\n            fullPhoto.classList.add('full-photo_active');\r\n        }\r\n    });\r\n\r\n    fullPhoto.addEventListener('click', (e) => {\r\n        if (e.target.matches('.full-photo') || e.target.matches('.full-photo__close')) {\r\n            fullPhoto.classList.remove('full-photo_active');\r\n        }\r\n    });\r\n\r\n    document.addEventListener('keydown', (e) => {\r\n        if (e.code === 'Escape' && fullPhoto.classList.contains('full-photo_active')) {\r\n            fullPhoto.classList.remove('full-photo_active');\r\n        }\r\n    });\r\n}\r\n\r\nexport default openFullPhoto;","function renderPhoto(name, descr, link, price, list, emptyBlock) {\r\n    const data = localStorage;\r\n    if (Object.keys(data).length !== 0) {\r\n        emptyBlock.style.display = 'none';\r\n    }\r\n    const item = document.createElement('div');\r\n    item.classList.add('list__item');\r\n    item.setAttribute('data-name', name);\r\n    item.innerHTML = `\r\n    <span class=\"icon-delete\" data-button=\"delete\"></span>\r\n    <div class=\"list__photo\">\r\n        <img src=\"${link}\" alt=\"photo\">\r\n    </div>\r\n    <div class=\"list__info\">\r\n        <div class=\"list__name\">${name}</div>\r\n        <div class=\"list__descr\">${descr}</div>\r\n        <div class=\"list__price\">${price.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ')} руб.</div>\r\n    </div>\r\n    `;\r\n    list.appendChild(item);\r\n}\r\n\r\nexport default renderPhoto;","import renderPhoto from \"./renderPhoto\";\r\n\r\nfunction sortPhoto(select, list, emptyBlock) {\r\n    select.addEventListener('change', (e) => {\r\n        const data = [];\r\n        Object.keys({...localStorage}).forEach(item => {\r\n            let obj = {[item]: JSON.parse({...localStorage}[item])};\r\n            data.push(obj);\r\n        });\r\n    \r\n        switch(e.target.value) {\r\n            case 'price-min': \r\n                sortByMinPrice(data);\r\n                renderSortedList(data)\r\n                break;\r\n            case 'price-max': \r\n                sortByMaxPrice(data);\r\n                renderSortedList(data)\r\n                break;\r\n            case 'name': \r\n                sortByName(data);\r\n                renderSortedList(data)\r\n                break;\r\n            case 'default': \r\n                renderSortedList(data)\r\n        }\r\n    });\r\n\r\n    function sortByMinPrice(data) {\r\n        data.sort((a, b) => {\r\n            let nameA = Object.keys(a)[0];\r\n            let nameB = Object.keys(b)[0];\r\n            if (+a[nameA].price > +b[nameB].price) {\r\n                return 1;\r\n            } else {\r\n                return -1;\r\n            }\r\n        });\r\n        return data;\r\n    }\r\n\r\n    function sortByMaxPrice(data) {\r\n        data.sort((a, b) => {\r\n            let nameA = Object.keys(a)[0];\r\n            let nameB = Object.keys(b)[0];\r\n            if (+a[nameA].price < +b[nameB].price) {\r\n                return 1;\r\n            } else {\r\n                return -1;\r\n            }\r\n        });\r\n        return data;\r\n    }\r\n\r\n    function sortByName(data) {\r\n        data.sort((a, b) => {\r\n            let nameA = Object.keys(a)[0];\r\n            let nameB = Object.keys(b)[0];\r\n            if (nameA.toLowerCase() > nameB.toLowerCase()) {\r\n                return 1;\r\n            } else {\r\n                return -1;\r\n            }\r\n        });\r\n        return data;\r\n    }\r\n\r\n    function renderSortedList(data) {\r\n        if (data.length !== 0) {\r\n            list.innerHTML = ``;\r\n            data.forEach(item => {\r\n                let key = Object.keys(item)[0];\r\n                renderPhoto(key, item[key].descr, item[key].link, item[key].price, list, emptyBlock);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default sortPhoto;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\r\n\r\nimport firstRenderPhoto from './modules/firstRenderPhoto';\r\nimport formSubmit from './modules/formSubmit';\r\nimport activeBtn from './modules/activeBtn';\r\nimport deletePhoto from './modules/deletePhoto';\r\nimport openFullPhoto from './modules/openFullPhoto';\r\nimport sortPhoto from './modules/sortPhoto';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    const form = document.querySelector('.form'),\r\n        list = document.querySelector('.list'),\r\n        emptyBlock = document.querySelector('.main__empty'),\r\n        select = document.querySelector('.header__select');\r\n\r\n    firstRenderPhoto(list, emptyBlock);\r\n    formSubmit(form, list, emptyBlock);\r\n    activeBtn(form);\r\n    deletePhoto(list, emptyBlock);\r\n    openFullPhoto(list);\r\n    openFullPhoto(list);\r\n    sortPhoto(select, list, emptyBlock);\r\n});"],"names":[],"sourceRoot":""}